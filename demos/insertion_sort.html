<html><head>
    <link rel="stylesheet" href="dist/vamonos-all.css">
    <script src="dist/vamonos-all.js"></script>

    <style type="text/css">
        .container {
            padding: 10px;
            margin: 10px;
            border: 1px solid black;
            width: 400px;
            -moz-box-shadow: 5px 5px 5px #ccc;
            -webkit-box-shadow: 5px 5px 5px #ccc;
            box-shadow: 5px 5px 5px #ccc;
        }
    </style>

</head><body>

    <h2>Insertion Sort</h2>

    <div class="container" id="array"></div>

    <div class="container">
        <div id="pseudocode" class="no-gutter" title="InsertionSort(A):">
            for j = 2 to A.length
                key = A[j]
                i = j - 1
                while i &gt; 0 and A[i] &gt; key
                    A[i + 1]  = A[i]
                    i = i - 1
                A[i + 1] = key
        </div>
        <div id="controls"></div>
    </div>

    <script type="text/javascript">
        var myviz = new vamanos.Visualizer({
            controls: "controls",
            interfacers: [
                new Vamonos.Interfacer.Array({
                    container: "array",
                    varName: "A",
                    showChangesOn: "next",
                    indices: {
                        i: { annotate: 1 },
                        j: { annotate: 1, cssAfter: "shaded" }
                    }
                }),
                new Vamonos.Interfacer.Hardcoded({
                    A: [5, 2, 4, 6, 1, 3]
                }),
                new Vamonos.Interfacer.Pseudocode({
                    container: "pseudocode",
                    userBreakpoints: false,
                    breakpoints: [1,5],
                }),

            ],
            varNames: ["A", "i", "j", "key"],

            algorithm: function (viz) {
                with (viz.vars) {
                    for (j = 2; viz.line(1) && j < A.length - 1; j++) {
                        viz.line(2);
                        key = A[j];
                        viz.line(3);
                        i = j - 1;
                        while (viz.line(4) && i > 0 && A[i] > key) {
                            viz.line(5);
                            A[i + 1] = A[i];
                            viz.line(6);
                            i = i - 1;
                        }
                        viz.line(7);
                        A[i + 1] = key;
                    }
                }
                viz.done();
            }
        });

    </script>

</body>
</html>
